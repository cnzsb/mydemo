<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
    <meta charset="UTF-8">
    <title>啤酒问题</title>
    <link rel="stylesheet" type="text/css" href="../css/reset.css">
    <style type="text/css">
        body {
            text-align: center;
        }
        #button {
            margin: 10px 0;
        }

        /*导航链接*/
        #header{
            background-color: #00A8E7;
            width: 100%;
            height: 40px;
            margin-bottom: 30px;
        }
        #header a{
            font-size: 20px;
            line-height: 40px;
            color: #FFF;
            font-weight: bold;
            padding: 0 5%;
        }
    </style>
    <script type="text/javascript" href="../js/analytics.js"></script>
</head>
<body>
    <div id="header">
        <a href="http://www.zhaoshibo.net/mydemo">Home</a>
        <a href="http://www.zhaoshibo.net">Blog</a>
    </div>
    <p>啤酒2元1瓶，4个瓶盖可以换一瓶，2个空瓶可以换1瓶。</p>
    <p>问：<input id="money" type="text" value="10" placeholder="填写金额数值">块钱可以喝多少瓶？</p>
    <button type="button" id="button">答案</button>
    <div id="result"></div>
    <script type="text/javascript">
    (function () {
        var money = document.getElementById('money'),
            result = document.getElementById('result'),
            button = document.getElementById('button'),
            now = money.value / 2,
            total = now,
            round = 0;

        function beers (beer, bottle, cover) {
            round++;
            result.innerHTML += "第" + round + "轮：现在有" + beer + "瓶啤酒，" + bottle + "个空瓶和" + cover + "个瓶盖<br>";

            var beerByBottle = parseInt(bottle / 2),
                beerByCover = parseInt(cover / 4),
                bottle_remain = bottle % 2,
                cover_remain = cover % 4;

            var new_beer = beerByBottle + beerByCover,
                new_bottle = new_beer + bottle_remain,
                new_cover = new_beer + cover_remain;

            total += new_beer;

            if (new_beer === 0) {
                result.innerHTML += "<br>一共能喝" + total + "瓶啤酒，还剩" + new_bottle + "个空瓶和" + new_cover + "个瓶盖";
                round = 0;
                total = now;
                return;
            }

            beers(new_beer, new_bottle, new_cover);
        }

        button.onclick = function () {
            result.innerHTML = '';
            var nowBeer = money.value / 2;
            beers(nowBeer, nowBeer, nowBeer);
        };
    })();
    </script>
</body>
</html>